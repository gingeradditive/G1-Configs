<div class="row py-3">
  <div class="col">
    <div class="card mb-3">
      <div class="card-header">
        <i class="bi bi-magic"></i> Restore Configurations
      </div>
      <p>Select a configuration to restore. This will overwrite the current settings with the default ones for the
        selected
        file.</p>

      <form action="/tools/backend/restore-kamp-cfg" method="post">
        <button type="button" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#kampModal">
          Restore <strong>kamp.cfg</strong>
        </button>
        <p class="text-muted">Restores the main printer configuration.</p>
        <!-- Modal -->
        <div class="modal fade" id="kampModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5">Restore kamp.cfg</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Are you sure you want to restore the kamp.cfg file? This action cannot be undone.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-success">Continue</button>
              </div>
            </div>
          </div>
        </div>
      </form>

      <form action="/tools/backend/restore-klipperscreen-conf" method="post">
        <button type="button" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#KlipperScreenModal">
          Restore <strong>KlipperScreen.conf</strong>
        </button>
        <p class="text-muted">Resets KlipperScreen settings for the display.</p>
        <!-- Modal -->
        <div class="modal fade" id="KlipperScreenModal" tabindex="-1" aria-labelledby="exampleModalLabel"
          aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5">Restore KlipperScreen.conf</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Are you sure you want to restore the KlipperScreen.conf file? This action cannot be undone.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-success">Continue</button>
              </div>
            </div>
          </div>
        </div>
      </form>

      <form action="/tools/backend/restore-moonraker-conf" method="post">
        <button type="button" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#moonrakerModal">
          Restore <strong>moonraker.conf</strong>
        </button>
        <p class="text-muted">Resets Moonraker configuration for API and monitoring tools.</p>
        <!-- Modal -->
        <div class="modal fade" id="moonrakerModal" tabindex="-1" aria-labelledby="exampleModalLabel"
          aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5">Restore moonraker.conf</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Are you sure you want to restore the moonraker.conf file? This action cannot be undone.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-success">Continue</button>
              </div>
            </div>
          </div>
        </div>
      </form>

      <form action="/tools/backend/restore-mainsail-theme" method="post">
        <button type="button" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#mainsailThemeModal">
          Restore <strong>mainsail .theme</strong> folder
        </button>
        <p class="text-muted">Resets Mainsail theme configuration.</p>
        <!-- Modal -->
        <div class="modal fade" id="mainsailThemeModal" tabindex="-1" aria-labelledby="exampleModalLabel"
          aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5">Restore Mainsail theme</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Are you sure you want to restore the Mainsail theme directory? This action cannot be undone.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-success">Continue</button>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
  <div class="col">
    <div class="card mb-3">
      <div class="card-header">
        <i class="bi bi-exclamation-octagon-fill"></i> Factory Reset
      </div>
      <form action="/tools/backend/factory-reset" method="post">
        <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#factoryResetModal">
          Perform Factory Reset
        </button>
        <p class="text-muted">
          <span class="text-danger fw-bold">Warning:</span> Performing a factory reset will delete all G-code files,
          custom
          configurations, and restore the printer to its original settings. Use this option only if necessary.
        </p>
        <!-- Modal -->
        <div class="modal fade" id="factoryResetModal" tabindex="-1" aria-labelledby="exampleModalLabel"
          aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5">Perform Factory Reset</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Are you sure you want to perform a factory reset? This action cannot be undone.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-danger">Continue</button>
              </div>
            </div>
          </div>
        </div>
      </form>

      <form action="/tools/backend/moonraker-db-reset" method="post">
        <button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#moonrakerDbResetModal">
          Perform Mainsail Factory Reset
        </button>
        <p class="text-muted">
          <span class="text-danger fw-bold">Warning:</span> Performing a Mainsail factory reset will delete all the
          mainsail
          users costumization. Use this option only if necessary.
        </p>
        <!-- Modal -->
        <div class="modal fade" id="moonrakerDbResetModal" tabindex="-1" aria-labelledby="exampleModalLabel"
          aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h1 class="modal-title fs-5">Perform Mainsail Factory Reset</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Are you sure you want to perform a mainsail factory reset? This action cannot be undone.
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-danger">Continue</button>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
    <div class="card mb-3">
      <div class="card-header">
        <i class="bi bi-pencil-square"></i> Change Printer Name
      </div>
      <p class="p-3">
        The printer name (hostname) must follow these rules:
        <ul>
          <li>Can contain only letters (a-z, A-Z), numbers (0-9), and hyphens (-).</li>
          <li>Must start and end with a letter or number (cannot begin or end with a hyphen).</li>
          <li>Must be between 1 and 63 characters long.</li>
          <li>Cannot contain spaces or special characters (e.g., dots, underscores, or symbols).</li>
        </ul>
      </p>
        <form action="/tools/backend/set-printer-hostname" method="post" class="p-3">
          <label for="printerName" class="form-label">Printer Name</label>
          <div class="input-group">
            <input type="text" class="form-control" id="printerName" name="printerName" placeholder="Enter new printer name" required>
            <button type="submit" class="btn btn-primary">Save</button>
          </div>
          <div class="text-danger d-none" id="hostname-ErrorMessage">
            Please provide a valid city.
          </div>
        </form>
    </div>
  </div>
</div>